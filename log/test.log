  [1m[36m (107.8ms)[0m  [1mDROP DATABASE IF EXISTS "open_hr_test"[0m
  [1m[35m (231.2ms)[0m  CREATE DATABASE "open_hr_test" ENCODING = 'unicode'
  [1m[36mSQL (0.2ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (8.7ms)[0m  CREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "email" character varying NOT NULL, "encrypted_password" character varying(128) NOT NULL, "confirmation_token" character varying(128), "remember_token" character varying(128) NOT NULL, "category" integer DEFAULT 3) 
  [1m[36m (3.2ms)[0m  [1mCREATE  INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (3.0ms)[0m  CREATE  INDEX  "index_users_on_remember_token" ON "users" USING btree ("remember_token")
  [1m[36m (3.2ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL) [0m
  [1m[35m (3.0ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.4ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.1ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160927033930')
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36m (105.1ms)[0m  [1mDROP DATABASE IF EXISTS "open_hr_test"[0m
  [1m[35m (230.4ms)[0m  CREATE DATABASE "open_hr_test" ENCODING = 'unicode'
  [1m[36mSQL (0.2ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (7.8ms)[0m  CREATE TABLE "departments" ("id" serial primary key, "name" character varying, "head_of_department" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (9.9ms)[0m  [1mCREATE TABLE "staffs" ("id" serial primary key, "name" character varying, "email" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (6.6ms)[0m  CREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "email" character varying NOT NULL, "encrypted_password" character varying(128) NOT NULL, "confirmation_token" character varying(128), "remember_token" character varying(128) NOT NULL, "category" integer DEFAULT 3) 
  [1m[36m (3.3ms)[0m  [1mCREATE  INDEX  "index_users_on_email" ON "users" USING btree ("email")[0m
  [1m[35m (3.3ms)[0m  CREATE  INDEX  "index_users_on_remember_token" ON "users" USING btree ("remember_token")
  [1m[36m (3.9ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL) [0m
  [1m[35m (3.1ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.4ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160928041038')
  [1m[36m (1.0ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160927033930')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20160928033057')
  [1m[35mActiveRecord::SchemaMigration Load (0.3ms)[0m  SELECT "schema_migrations".* FROM "schema_migrations"
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mStaff Exists (0.6ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mStaff Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mStaff Exists (0.2ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mStaff Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mStaff Exists (0.3ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mStaff Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mStaff Exists (0.2ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mStaff Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mStaff Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mStaff Exists (0.2ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStaff Exists (0.3ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "staffs" ("name", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "John"], ["email", "test@gmail.com"], ["created_at", "2016-09-28 08:32:14.445446"], ["updated_at", "2016-09-28 08:32:14.445446"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStaff Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStaff Exists (0.6ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "staffs" ("name", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "John"], ["email", "test@gmail.com"], ["created_at", "2016-09-28 08:32:46.735720"], ["updated_at", "2016-09-28 08:32:46.735720"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStaff Exists (0.2ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStaff Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "staffs" ("name", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["name", "John"], ["email", "test@gmail.com"], ["created_at", "2016-09-28 08:32:46.930580"], ["updated_at", "2016-09-28 08:32:46.930580"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStaff Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mStaff Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mStaff Exists (0.2ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStaff Exists (0.2ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "staffs" ("name", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "John"], ["email", "test@gmail.com"], ["created_at", "2016-09-28 08:32:54.127973"], ["updated_at", "2016-09-28 08:32:54.127973"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStaff Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDepartment Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "departments" WHERE "departments"."name" = 'John' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDepartment Exists (0.2ms)[0m  SELECT  1 AS one FROM "departments" WHERE "departments"."name" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mStaff Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mStaff Exists (0.2ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStaff Exists (0.5ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "staffs" ("name", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "John"], ["email", "test@gmail.com"], ["created_at", "2016-09-28 08:59:08.119427"], ["updated_at", "2016-09-28 08:59:08.119427"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStaff Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.7ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDepartment Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "departments" WHERE "departments"."name" = 'John' LIMIT 1[0m
  [1m[35m (1.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDepartment Exists (0.3ms)[0m  SELECT  1 AS one FROM "departments" WHERE "departments"."name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mStaff Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mStaff Exists (0.3ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStaff Exists (0.4ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "staffs" ("name", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "John"], ["email", "test@gmail.com"], ["created_at", "2016-10-04 02:11:15.180558"], ["updated_at", "2016-10-04 02:11:15.180558"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStaff Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (106.1ms)[0m  [1mDROP DATABASE IF EXISTS "open_hr_test"[0m
  [1m[35m (300.9ms)[0m  CREATE DATABASE "open_hr_test" ENCODING = 'unicode'
  [1m[36mSQL (0.3ms)[0m  [1mCREATE EXTENSION IF NOT EXISTS "plpgsql"[0m
  [1m[35m (8.8ms)[0m  CREATE TABLE "available_remaining_leaves" ("id" serial primary key, "contract_id" integer, "leave_type_id" integer, "number_of_days" float DEFAULT 0.0, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (9.7ms)[0m  [1mCREATE TABLE "contracts" ("id" serial primary key, "staff_id" integer, "department_id" integer, "job_title" character varying, "salary" float, "commencement_date" timestamp, "end_date" timestamp, "status" integer DEFAULT 0, "contract_documents" json, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (9.5ms)[0m  CREATE TABLE "departments" ("id" serial primary key, "name" character varying, "head_of_department" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (6.6ms)[0m  [1mCREATE TABLE "invites" ("id" serial primary key, "email" character varying, "invite_code" character varying(40), "invited_at" timestamp, "redeemed_at" timestamp) [0m
  [1m[35m (3.4ms)[0m  CREATE  INDEX  "index_invites_on_id_and_email" ON "invites" USING btree ("id", "email")
  [1m[36m (3.0ms)[0m  [1mCREATE  INDEX  "index_invites_on_id_and_invite_code" ON "invites" USING btree ("id", "invite_code")[0m
  [1m[35m (7.0ms)[0m  CREATE TABLE "leave_applications" ("id" serial primary key, "staff_id" integer, "leave_type_id" integer, "description" text, "status" integer DEFAULT 0, "start_date" date, "end_date" date, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (6.9ms)[0m  [1mCREATE TABLE "leave_types" ("id" serial primary key, "leave_type_name" character varying, "unpaid_leave" boolean DEFAULT 'f', "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) [0m
  [1m[35m (6.5ms)[0m  CREATE TABLE "staffs" ("id" serial primary key, "name" character varying, "email" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "full_name" character varying, "identification_number" character varying, "contact_number" character varying, "address" character varying, "date_of_birth" timestamp, "identification_documents" json) 
  [1m[36m (6.3ms)[0m  [1mCREATE TABLE "users" ("id" serial primary key, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL, "email" character varying NOT NULL, "encrypted_password" character varying(128) NOT NULL, "confirmation_token" character varying(128), "remember_token" character varying(128) NOT NULL, "category" integer DEFAULT 3) [0m
  [1m[35m (3.0ms)[0m  CREATE  INDEX  "index_users_on_email" ON "users" USING btree ("email")
  [1m[36m (2.8ms)[0m  [1mCREATE  INDEX  "index_users_on_remember_token" ON "users" USING btree ("remember_token")[0m
  [1m[35m (5.9ms)[0m  CREATE TABLE "workdays" ("id" serial primary key, "workdate" date, "full_or_half" float, "holiday" boolean, "holiday_name" character varying, "created_at" timestamp NOT NULL, "updated_at" timestamp NOT NULL) 
  [1m[36m (6.6ms)[0m  [1mCREATE TABLE "schema_migrations" ("version" character varying NOT NULL) [0m
  [1m[35m (3.0ms)[0m  CREATE UNIQUE INDEX  "unique_schema_migrations" ON "schema_migrations"  ("version")
  [1m[36m (0.3ms)[0m  [1mSELECT version FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20161006053800')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160928041038')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20161004021729')
  [1m[36m (0.8ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20161006035908')[0m
  [1m[35m (1.0ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20161005082046')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160927033930')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20161006052028')
  [1m[36m (0.9ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20161005080816')[0m
  [1m[35m (0.9ms)[0m  INSERT INTO "schema_migrations" (version) VALUES ('20161005042228')
  [1m[36m (1.7ms)[0m  [1mINSERT INTO "schema_migrations" (version) VALUES ('20160928033057')[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.8ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mDepartment Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "departments" WHERE "departments"."name" = 'John' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDepartment Exists (0.3ms)[0m  SELECT  1 AS one FROM "departments" WHERE "departments"."name" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mStaff Exists (0.4ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.9ms)[0m  BEGIN
  [1m[36mStaff Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStaff Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "staffs" ("name", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["name", "John"], ["email", "test@gmail.com"], ["created_at", "2016-10-10 03:04:52.755109"], ["updated_at", "2016-10-10 03:04:52.755109"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStaff Exists (0.3ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.8ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDepartment Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "departments" WHERE "departments"."name" = 'John' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDepartment Exists (0.2ms)[0m  SELECT  1 AS one FROM "departments" WHERE "departments"."name" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mStaff Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mStaff Exists (0.3ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStaff Exists (0.3ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "staffs" ("name", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "John"], ["email", "test@gmail.com"], ["created_at", "2016-10-10 03:09:49.190925"], ["updated_at", "2016-10-10 03:09:49.190925"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStaff Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 1.0ms
  [1m[36m (1.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.3ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDepartment Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "departments" WHERE "departments"."name" = 'John' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDepartment Exists (0.2ms)[0m  SELECT  1 AS one FROM "departments" WHERE "departments"."name" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "leave_types" ("leave_type_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["leave_type_name", "Annual"], ["created_at", "2016-10-10 03:11:41.929073"], ["updated_at", "2016-10-10 03:11:41.929073"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mStaff Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mStaff Exists (0.3ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStaff Exists (0.2ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "staffs" ("name", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "John"], ["email", "test@gmail.com"], ["created_at", "2016-10-10 03:11:41.960131"], ["updated_at", "2016-10-10 03:11:41.960131"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStaff Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.9ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDepartment Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "departments" WHERE "departments"."name" = 'John' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDepartment Exists (0.3ms)[0m  SELECT  1 AS one FROM "departments" WHERE "departments"."name" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.3ms)[0m  [1mBEGIN[0m
  [1m[35mLeaveType Exists (0.5ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "leave_types" ("leave_type_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["leave_type_name", "Annual"], ["created_at", "2016-10-10 03:16:43.203085"], ["updated_at", "2016-10-10 03:16:43.203085"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "leave_types" ("leave_type_name", "unpaid_leave", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["leave_type_name", "Annual"], ["unpaid_leave", "t"], ["created_at", "2016-10-10 03:16:43.209412"], ["updated_at", "2016-10-10 03:16:43.209412"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Unpaid' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mStaff Exists (0.5ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mStaff Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mStaff Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "staffs" ("name", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["name", "John"], ["email", "test@gmail.com"], ["created_at", "2016-10-10 03:16:43.245621"], ["updated_at", "2016-10-10 03:16:43.245621"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStaff Exists (0.8ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.7ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mDepartment Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "departments" WHERE "departments"."name" = 'John' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDepartment Exists (0.2ms)[0m  SELECT  1 AS one FROM "departments" WHERE "departments"."name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.1ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "leave_types" ("leave_type_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["leave_type_name", "Annual"], ["created_at", "2016-10-10 03:19:21.173821"], ["updated_at", "2016-10-10 03:19:21.173821"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mLeaveType Exists (0.3ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "leave_types" ("leave_type_name", "unpaid_leave", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["leave_type_name", "Annual"], ["unpaid_leave", "t"], ["created_at", "2016-10-10 03:19:21.180945"], ["updated_at", "2016-10-10 03:19:21.180945"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Unpaid' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "leave_types" ("leave_type_name", "unpaid_leave", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["leave_type_name", "Unpaid"], ["unpaid_leave", "t"], ["created_at", "2016-10-10 03:19:31.629568"], ["updated_at", "2016-10-10 03:19:31.629568"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mLeaveType Load (0.3ms)[0m  [1mSELECT "leave_types".* FROM "leave_types"[0m
  [1m[35mLeaveType Exists (0.4ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE ("leave_types"."leave_type_name" = 'Unpaid' AND "leave_types"."id" != 6) LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mStaff Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mStaff Exists (0.2ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStaff Exists (1.1ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "staffs" ("name", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "John"], ["email", "test@gmail.com"], ["created_at", "2016-10-10 03:19:57.742320"], ["updated_at", "2016-10-10 03:19:57.742320"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStaff Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 1.6ms
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.2ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mDepartment Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "departments" WHERE "departments"."name" = 'John' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDepartment Exists (0.2ms)[0m  SELECT  1 AS one FROM "departments" WHERE "departments"."name" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mLeaveType Exists (0.3ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "leave_types" ("leave_type_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["leave_type_name", "Annual"], ["created_at", "2016-10-10 03:23:21.712374"], ["updated_at", "2016-10-10 03:23:21.712374"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLeaveType Exists (0.3ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35mStaff Exists (0.4ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mStaff Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mStaff Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "staffs" ("name", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["name", "John"], ["email", "test@gmail.com"], ["created_at", "2016-10-10 03:23:21.746665"], ["updated_at", "2016-10-10 03:23:21.746665"]]
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mStaff Exists (0.8ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 1.4ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDepartment Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "departments" WHERE "departments"."name" = 'John' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDepartment Exists (0.3ms)[0m  SELECT  1 AS one FROM "departments" WHERE "departments"."name" IS NULL LIMIT 1
  [1m[36m (0.7ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mLeaveType Exists (0.3ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "leave_types" ("leave_type_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["leave_type_name", "Annual"], ["created_at", "2016-10-10 03:24:29.250224"], ["updated_at", "2016-10-10 03:24:29.250224"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1
  [1m[36mLeaveType Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.4ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "leave_types" ("leave_type_name", "unpaid_leave", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["leave_type_name", "Annual"], ["unpaid_leave", "t"], ["created_at", "2016-10-10 03:24:29.259399"], ["updated_at", "2016-10-10 03:24:29.259399"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Unpaid' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.3ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mStaff Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mStaff Exists (0.2ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStaff Exists (0.2ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "staffs" ("name", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "John"], ["email", "test@gmail.com"], ["created_at", "2016-10-10 03:25:40.924079"], ["updated_at", "2016-10-10 03:25:40.924079"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStaff Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.8ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDepartment Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "departments" WHERE "departments"."name" = 'John' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDepartment Exists (0.2ms)[0m  SELECT  1 AS one FROM "departments" WHERE "departments"."name" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mLeaveType Exists (0.3ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "leave_types" ("leave_type_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["leave_type_name", "Annual"], ["created_at", "2016-10-10 03:25:46.161558"], ["updated_at", "2016-10-10 03:25:46.161558"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "leave_types" ("leave_type_name", "unpaid_leave", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["leave_type_name", "Annual"], ["unpaid_leave", "t"], ["created_at", "2016-10-10 03:25:46.169725"], ["updated_at", "2016-10-10 03:25:46.169725"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mLeaveType Exists (0.3ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Unpaid' LIMIT 1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Unpaid' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.1ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mStaff Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mStaff Exists (0.2ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStaff Exists (0.2ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "staffs" ("name", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "John"], ["email", "test@gmail.com"], ["created_at", "2016-10-10 03:25:56.704188"], ["updated_at", "2016-10-10 03:25:56.704188"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStaff Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.2ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.7ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDepartment Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "departments" WHERE "departments"."name" = 'John' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDepartment Exists (0.3ms)[0m  SELECT  1 AS one FROM "departments" WHERE "departments"."name" IS NULL LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mLeaveType Exists (0.3ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "leave_types" ("leave_type_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["leave_type_name", "Annual"], ["created_at", "2016-10-10 03:58:47.272412"], ["updated_at", "2016-10-10 03:58:47.272412"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLeaveType Exists (0.3ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1
  [1m[36mLeaveType Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "leave_types" ("leave_type_name", "unpaid_leave", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["leave_type_name", "Annual"], ["unpaid_leave", "t"], ["created_at", "2016-10-10 03:58:47.280884"], ["updated_at", "2016-10-10 03:58:47.280884"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Unpaid' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.3ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mStaff Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mStaff Exists (0.2ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStaff Exists (0.2ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "staffs" ("name", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "John"], ["email", "test@gmail.com"], ["created_at", "2016-10-10 03:58:47.305263"], ["updated_at", "2016-10-10 03:58:47.305263"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStaff Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.8ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDepartment Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "departments" WHERE "departments"."name" = 'John' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDepartment Exists (0.2ms)[0m  SELECT  1 AS one FROM "departments" WHERE "departments"."name" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "leave_types" ("leave_type_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["leave_type_name", "Annual"], ["created_at", "2016-10-10 03:58:54.888030"], ["updated_at", "2016-10-10 03:58:54.888030"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLeaveType Exists (0.3ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "leave_types" ("leave_type_name", "unpaid_leave", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["leave_type_name", "Annual"], ["unpaid_leave", "t"], ["created_at", "2016-10-10 03:58:54.895201"], ["updated_at", "2016-10-10 03:58:54.895201"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Unpaid' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.3ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mStaff Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mStaff Exists (0.3ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStaff Exists (0.2ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "staffs" ("name", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "John"], ["email", "test@gmail.com"], ["created_at", "2016-10-10 03:58:54.921092"], ["updated_at", "2016-10-10 03:58:54.921092"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStaff Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.8ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.1ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDepartment Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "departments" WHERE "departments"."name" = 'John' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDepartment Exists (0.2ms)[0m  SELECT  1 AS one FROM "departments" WHERE "departments"."name" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "leave_types" ("leave_type_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["leave_type_name", "Annual"], ["created_at", "2016-10-10 04:01:23.636970"], ["updated_at", "2016-10-10 04:01:23.636970"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLeaveType Exists (0.3ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.3ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "leave_types" ("leave_type_name", "unpaid_leave", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["leave_type_name", "Annual"], ["unpaid_leave", "t"], ["created_at", "2016-10-10 04:01:23.646130"], ["updated_at", "2016-10-10 04:01:23.646130"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Unpaid' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mStaff Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mStaff Exists (0.2ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStaff Exists (0.2ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "staffs" ("name", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "John"], ["email", "test@gmail.com"], ["created_at", "2016-10-10 04:01:23.670376"], ["updated_at", "2016-10-10 04:01:23.670376"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStaff Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.9ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.3ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDepartment Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "departments" WHERE "departments"."name" = 'John' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDepartment Exists (0.1ms)[0m  SELECT  1 AS one FROM "departments" WHERE "departments"."name" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "leave_types" ("leave_type_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["leave_type_name", "Annual"], ["created_at", "2016-10-10 04:02:02.600387"], ["updated_at", "2016-10-10 04:02:02.600387"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "leave_types" ("leave_type_name", "unpaid_leave", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["leave_type_name", "Annual"], ["unpaid_leave", "t"], ["created_at", "2016-10-10 04:02:02.607062"], ["updated_at", "2016-10-10 04:02:02.607062"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Unpaid' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.3ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mStaff Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mStaff Exists (0.2ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStaff Exists (0.3ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "staffs" ("name", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "John"], ["email", "test@gmail.com"], ["created_at", "2016-10-10 04:02:02.636098"], ["updated_at", "2016-10-10 04:02:02.636098"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStaff Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mUser Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "users" ("email", "encrypted_password", "category", "created_at", "updated_at", "remember_token") VALUES ($1, $2, $3, $4, $5, $6) RETURNING "id"  [["email", "test@test.com"], ["encrypted_password", "$2a$04$Zj3Podm7IlGk5e7rsGJLBOJBWO7hdkbMS6OnNnnsngqCBKTfTW67y"], ["category", nil], ["created_at", "2016-10-10 04:02:09.523641"], ["updated_at", "2016-10-10 04:02:09.523641"], ["remember_token", "5be97749fe99209e3f79e60ca9d16c213cdf1aef"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.8ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDepartment Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "departments" WHERE "departments"."name" = 'John' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDepartment Exists (0.1ms)[0m  SELECT  1 AS one FROM "departments" WHERE "departments"."name" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "leave_types" ("leave_type_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["leave_type_name", "Annual"], ["created_at", "2016-10-10 04:05:11.535688"], ["updated_at", "2016-10-10 04:05:11.535688"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "leave_types" ("leave_type_name", "unpaid_leave", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["leave_type_name", "Annual"], ["unpaid_leave", "t"], ["created_at", "2016-10-10 04:05:11.543590"], ["updated_at", "2016-10-10 04:05:11.543590"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Unpaid' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mStaff Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mStaff Exists (0.4ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStaff Exists (0.3ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "staffs" ("name", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "John"], ["email", "test@gmail.com"], ["created_at", "2016-10-10 04:05:11.578422"], ["updated_at", "2016-10-10 04:05:11.578422"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStaff Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.8ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.2ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mDepartment Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "departments" WHERE "departments"."name" = 'John' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDepartment Exists (0.3ms)[0m  SELECT  1 AS one FROM "departments" WHERE "departments"."name" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mLeaveType Exists (0.4ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" IS NULL LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "leave_types" ("leave_type_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["leave_type_name", "Annual"], ["created_at", "2016-10-10 04:05:41.819496"], ["updated_at", "2016-10-10 04:05:41.819496"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "leave_types" ("leave_type_name", "unpaid_leave", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["leave_type_name", "Annual"], ["unpaid_leave", "t"], ["created_at", "2016-10-10 04:05:41.826797"], ["updated_at", "2016-10-10 04:05:41.826797"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Unpaid' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mStaff Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mStaff Exists (0.3ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStaff Exists (0.3ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "staffs" ("name", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "John"], ["email", "test@gmail.com"], ["created_at", "2016-10-10 04:05:41.855982"], ["updated_at", "2016-10-10 04:05:41.855982"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStaff Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 1.3ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDepartment Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "departments" WHERE "departments"."name" = 'John' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDepartment Exists (0.2ms)[0m  SELECT  1 AS one FROM "departments" WHERE "departments"."name" IS NULL LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "leave_types" ("leave_type_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["leave_type_name", "Annual"], ["created_at", "2016-10-10 04:06:20.361753"], ["updated_at", "2016-10-10 04:06:20.361753"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "leave_types" ("leave_type_name", "unpaid_leave", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["leave_type_name", "Annual"], ["unpaid_leave", "t"], ["created_at", "2016-10-10 04:06:20.369565"], ["updated_at", "2016-10-10 04:06:20.369565"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Unpaid' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.3ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mStaff Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mStaff Exists (0.2ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStaff Exists (0.3ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "staffs" ("name", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "John"], ["email", "test@gmail.com"], ["created_at", "2016-10-10 04:06:20.400645"], ["updated_at", "2016-10-10 04:06:20.400645"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStaff Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.5ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36mUser Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 1.0ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDepartment Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "departments" WHERE "departments"."name" = 'John' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDepartment Exists (0.2ms)[0m  SELECT  1 AS one FROM "departments" WHERE "departments"."name" IS NULL LIMIT 1
  [1m[36m (0.4ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "leave_types" ("leave_type_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["leave_type_name", "Annual"], ["created_at", "2016-10-10 04:12:21.126438"], ["updated_at", "2016-10-10 04:12:21.126438"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1
  [1m[36mLeaveType Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.1ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "leave_types" ("leave_type_name", "unpaid_leave", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["leave_type_name", "Annual"], ["unpaid_leave", "t"], ["created_at", "2016-10-10 04:12:21.134201"], ["updated_at", "2016-10-10 04:12:21.134201"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Unpaid' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mStaff Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mStaff Exists (0.2ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStaff Exists (0.2ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "staffs" ("name", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "John"], ["email", "test@gmail.com"], ["created_at", "2016-10-10 04:12:21.161036"], ["updated_at", "2016-10-10 04:12:21.161036"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStaff Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 1.6ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.3ms
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDepartment Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "departments" WHERE "departments"."name" = 'John' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDepartment Exists (0.2ms)[0m  SELECT  1 AS one FROM "departments" WHERE "departments"."name" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mLeaveType Exists (0.3ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.3ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "leave_types" ("leave_type_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["leave_type_name", "Annual"], ["created_at", "2016-10-10 04:12:32.170622"], ["updated_at", "2016-10-10 04:12:32.170622"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.5ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "leave_types" ("leave_type_name", "unpaid_leave", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["leave_type_name", "Annual"], ["unpaid_leave", "t"], ["created_at", "2016-10-10 04:12:32.181280"], ["updated_at", "2016-10-10 04:12:32.181280"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Unpaid' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.3ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mStaff Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mStaff Exists (0.2ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStaff Exists (0.2ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "staffs" ("name", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "John"], ["email", "test@gmail.com"], ["created_at", "2016-10-10 04:12:32.226713"], ["updated_at", "2016-10-10 04:12:32.226713"]]
  [1m[35m (0.4ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStaff Exists (1.7ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mUser Exists (0.4ms)[0m  SELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mUser Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (1.1ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.6ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mLeaveType Exists (0.3ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mLeaveType Exists (0.3ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "leave_types" ("leave_type_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["leave_type_name", "Annual"], ["created_at", "2016-10-10 04:20:35.007585"], ["updated_at", "2016-10-10 04:20:35.007585"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.3ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mLeaveType Exists (0.7ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "leave_types" ("leave_type_name", "unpaid_leave", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"  [["leave_type_name", "Annual"], ["unpaid_leave", "t"], ["created_at", "2016-10-10 04:20:35.016967"], ["updated_at", "2016-10-10 04:20:35.016967"]]
  [1m[36m (0.3ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLeaveType Exists (0.3ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Unpaid' LIMIT 1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.0ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "leave_types" ("leave_type_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["leave_type_name", "Annual"], ["created_at", "2016-10-10 04:20:53.204929"], ["updated_at", "2016-10-10 04:20:53.204929"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.8ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "leave_types" ("leave_type_name", "unpaid_leave", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["leave_type_name", "Annual"], ["unpaid_leave", "t"], ["created_at", "2016-10-10 04:20:53.213013"], ["updated_at", "2016-10-10 04:20:53.213013"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Unpaid' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mUser Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "users" WHERE "users"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.8ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.9ms
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDepartment Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "departments" WHERE "departments"."name" = 'John' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDepartment Exists (0.2ms)[0m  SELECT  1 AS one FROM "departments" WHERE "departments"."name" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mLeaveType Exists (0.3ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "leave_types" ("leave_type_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["leave_type_name", "Annual"], ["created_at", "2016-10-10 04:41:38.876286"], ["updated_at", "2016-10-10 04:41:38.876286"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLeaveType Exists (0.4ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1
  [1m[36mLeaveType Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "leave_types" ("leave_type_name", "unpaid_leave", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["leave_type_name", "Annual"], ["unpaid_leave", "t"], ["created_at", "2016-10-10 04:41:38.884939"], ["updated_at", "2016-10-10 04:41:38.884939"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Unpaid' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.4ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mStaff Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mStaff Exists (0.4ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStaff Exists (0.3ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "staffs" ("name", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "John"], ["email", "test@gmail.com"], ["created_at", "2016-10-10 04:41:38.918866"], ["updated_at", "2016-10-10 04:41:38.918866"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStaff Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.6ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mInvite Exists (2.6ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.4ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (2.4ms)[0m  INSERT INTO "invites" DEFAULT VALUES RETURNING "id"
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "invites" SET "email" = $1 WHERE "invites"."id" = $2[0m  [["email", "an arbitrary value"], ["id", 1]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.5ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invites" DEFAULT VALUES RETURNING "id"
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invites" SET "email" = $1 WHERE "invites"."id" = $2[0m  [["email", "an arbitrary value"], ["id", 2]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.5ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invites" DEFAULT VALUES RETURNING "id"
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.7ms)[0m  [1mUPDATE "invites" SET "email" = $1 WHERE "invites"."id" = $2[0m  [["email", "an arbitrary value"], ["id", 3]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.9ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mInvite Exists (0.4ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Load (0.6ms)[0m  [1mSELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invites" DEFAULT VALUES RETURNING "id"[0m
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  UPDATE "invites" SET "email" = $1 WHERE "invites"."id" = $2  [["email", "an arbitrary value"], ["id", 4]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invites" DEFAULT VALUES RETURNING "id"
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.6ms)[0m  INSERT INTO "invites" DEFAULT VALUES RETURNING "id"
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invites" DEFAULT VALUES RETURNING "id"
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mInvite Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.2ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.4ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invites" DEFAULT VALUES RETURNING "id"
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invites" SET "email" = $1 WHERE "invites"."id" = $2[0m  [["email", "an arbitrary value"], ["id", 8]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mInvite Exists (3.0ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"  [["email", "test@test.com"], ["invite_code", "17bb33bebe0320604485cbf1b1ced0c871350dff"], ["invited_at", "2016-10-10 06:14:46.700800"]]
  [1m[36m (2.6ms)[0m  [1mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.5ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36mInvite Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'TEST@TEST.COM' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.5ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36mInvite Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'TEST@TEST.COM' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.6ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'TEST@TEST.COM' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Load (0.3ms)[0m  [1mSELECT "invites".* FROM "invites"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.6ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35mInvite Exists (0.6ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'TEST@TEST.COM' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Load (0.3ms)[0m  [1mSELECT "invites".* FROM "invites"[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"  [["email", "test1@test.com"], ["invite_code", "27dbd6e1826a31b656ad833bae93fa32d35d08d6"], ["invited_at", "2016-10-10 06:17:43.009599"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.3ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.4ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36mInvite Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'TEST@TEST.COM' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "d4148c5f2f4eb8fe20f8a7b0f959558005433240"], ["invited_at", "2016-10-10 06:17:59.192547"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mInvite Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.4ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36mInvite Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'TEST@TEST.COM' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "c299bea9c2f4fcc0ef88a92b138443a72cca5dae"], ["invited_at", "2016-10-10 06:18:12.560231"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (1.1ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.4ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36mInvite Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'TEST@TEST.COM' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "baa275bd4546fc12fbafdcdfd60ca4240497ba3a"], ["invited_at", "2016-10-10 06:18:35.643632"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"  [["email", "test1@test.com"], ["invite_code", "38fef440218ea0a233c8e5b182c7eccf48140a4f"], ["invited_at", "2016-10-10 06:25:09.782245"]]
  [1m[36m (2.4ms)[0m  [1mCOMMIT[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.4ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'TEST@TEST.COM' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.9ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.6ms)[0m  BEGIN
  [1m[36mInvite Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.6ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36mInvite Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'TEST@TEST.COM' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.4ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'TEST@TEST.COM' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (1.0ms)[0m  BEGIN
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.4ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'TEST@TEST.COM' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Load (0.3ms)[0m  [1mSELECT "invites".* FROM "invites"[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.5ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36m (0.3ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mInvite Load (0.4ms)[0m  SELECT "invites".* FROM "invites"
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Exists (0.4ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (1.6ms)[0m  BEGIN
  [1m[36mInvite Load (0.7ms)[0m  [1mSELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1[0m
  [1m[35mInvite Exists (0.6ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1
  [1m[36mInvite Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'TEST@TEST.COM' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.6ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36mInvite Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35mInvite Exists (0.5ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'TEST@TEST.COM' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.5ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'TEST@TEST.COM' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.4ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.4ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36mInvite Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'TEST@TEST.COM' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK TO SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK TO SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.9ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35mInvite Load (0.8ms)[0m  SELECT "invites".* FROM "invites"
  [1m[36mSQL (2.6ms)[0m  [1mDELETE FROM "invites"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.4ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invites" DEFAULT VALUES RETURNING "id"
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invites" SET "email" = $1 WHERE "invites"."id" = $2[0m  [["email", "an arbitrary value"], ["id", 15]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "5b2133c7401d793f70b28f858be6753e7b6f425d"], ["invited_at", "2016-10-10 06:32:57.880003"]]
  [1m[35m (0.2ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "5b2133c7401d793f70b28f858be6753e7b6f425d"], ["invited_at", "2016-10-10 06:32:57.886310"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.8ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invites" DEFAULT VALUES RETURNING "id"
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "invites" SET "email" = $1 WHERE "invites"."id" = $2[0m  [["email", "an arbitrary value"], ["id", 18]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "5876970f154b5b197b863f7b84053275572e3759"], ["invited_at", "2016-10-10 06:33:07.792416"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "5876970f154b5b197b863f7b84053275572e3759"], ["invited_at", "2016-10-10 06:33:07.797014"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.5ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invites" DEFAULT VALUES RETURNING "id"
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "invites" SET "email" = $1 WHERE "invites"."id" = $2[0m  [["email", "an arbitrary value"], ["id", 21]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "ebbeb1ef69f6d34cef39ae971a4a7a16d5415be3"], ["invited_at", "2016-10-10 06:33:14.398677"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "ebbeb1ef69f6d34cef39ae971a4a7a16d5415be3"], ["invited_at", "2016-10-10 06:33:14.403852"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36mInvite Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.4ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invites" DEFAULT VALUES RETURNING "id"
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.0ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "invites" SET "email" = $1 WHERE "invites"."id" = $2[0m  [["email", "an arbitrary value"], ["id", 24]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mInvite Exists (0.4ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "4e92990a77b6b0150479b4cd0dc6292d5aa1f3fd"], ["invited_at", "2016-10-10 06:33:36.744601"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.5ms)[0m  SELECT  1 AS one FROM "invites" WHERE ("invites"."email" = 'test1@test.com' AND "invites"."id" != 25) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "invites" SET "invited_at" = $1 WHERE "invites"."id" = $2[0m  [["invited_at", "2016-10-10 06:33:36.750392"], ["id", 25]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.4ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (1.0ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invites" DEFAULT VALUES RETURNING "id"
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invites" SET "email" = $1 WHERE "invites"."id" = $2[0m  [["email", "an arbitrary value"], ["id", 26]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvite Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "4b9885e4c7d1dfb20e595cd636002398ce5f1677"], ["invited_at", "2016-10-10 06:38:17.865485"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.5ms)[0m  SELECT  1 AS one FROM "invites" WHERE ("invites"."email" = 'test1@test.com' AND "invites"."id" != 27) LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mUPDATE "invites" SET "invited_at" = $1 WHERE "invites"."id" = $2[0m  [["invited_at", "2016-10-10 06:38:17.871781"], ["id", 27]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE ("invites"."email" = 'test1@test.com' AND "invites"."id" != 27) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "invites" SET "invited_at" = $1 WHERE "invites"."id" = $2[0m  [["invited_at", "2016-10-10 06:38:17.880092"], ["id", 27]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE ("invites"."email" = 'test1@test.com' AND "invites"."id" != 27) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.5ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invites" DEFAULT VALUES RETURNING "id"
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "invites" SET "email" = $1 WHERE "invites"."id" = $2[0m  [["email", "an arbitrary value"], ["id", 28]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "22850acb4c5b60f27daba315701bb648fa9a1e8e"], ["invited_at", "2016-10-10 06:38:49.457881"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE ("invites"."email" = 'test1@test.com' AND "invites"."id" != 29) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invites" SET "invited_at" = $1 WHERE "invites"."id" = $2[0m  [["invited_at", "2016-10-10 06:38:49.462828"], ["id", 29]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE ("invites"."email" = 'test1@test.com' AND "invites"."id" != 29) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "invites" SET "invited_at" = $1 WHERE "invites"."id" = $2[0m  [["invited_at", "2016-10-10 06:39:06.241153"], ["id", 29]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE ("invites"."email" = 'test1@test.com' AND "invites"."id" != 29) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "invites" SET "invite_code" = $1 WHERE "invites"."id" = $2[0m  [["invite_code", "5d836a703b4b04b76f12c01ffd089bfb1cce3b24"], ["id", 29]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.6ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invites" DEFAULT VALUES RETURNING "id"
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invites" SET "email" = $1 WHERE "invites"."id" = $2[0m  [["email", "an arbitrary value"], ["id", 30]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mInvite Exists (0.4ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "26045ef9571ec50197443e7ab017256be54a2439"], ["invited_at", "2016-10-10 06:39:34.132238"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.7ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "26045ef9571ec50197443e7ab017256be54a2439"], ["invited_at", "2016-10-10 06:39:34.136771"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invited_at") VALUES ($1, $2) RETURNING "id"[0m  [["email", "test1@test.com"], ["invited_at", "2016-10-10 06:39:34.141558"]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.4ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code") VALUES ($1, $2) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "26045ef9571ec50197443e7ab017256be54a2439"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.4ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invites" DEFAULT VALUES RETURNING "id"
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invites" SET "email" = $1 WHERE "invites"."id" = $2[0m  [["email", "an arbitrary value"], ["id", 35]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.7ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "92440dc47cfcbffdaa13c4bded6361b0ba0ff732"], ["invited_at", "2016-10-10 06:40:59.914111"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.4ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "92440dc47cfcbffdaa13c4bded6361b0ba0ff732"], ["invited_at", "2016-10-10 06:40:59.918468"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invited_at") VALUES ($1, $2) RETURNING "id"[0m  [["email", "test1@test.com"], ["invited_at", "2016-10-10 06:40:59.922445"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code") VALUES ($1, $2) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "92440dc47cfcbffdaa13c4bded6361b0ba0ff732"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "92440dc47cfcbffdaa13c4bded6361b0ba0ff732"], ["invited_at", "2016-10-10 06:40:59.929852"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.6ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.7ms)[0m  INSERT INTO "invites" DEFAULT VALUES RETURNING "id"
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invites" SET "email" = $1 WHERE "invites"."id" = $2[0m  [["email", "an arbitrary value"], ["id", 41]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.9ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "32af546dbc0ffd54c6c8aa577ea1a6cfc0549e38"], ["invited_at", "2016-10-10 06:48:50.162465"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "32af546dbc0ffd54c6c8aa577ea1a6cfc0549e38"], ["invited_at", "2016-10-10 06:48:50.168419"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "32af546dbc0ffd54c6c8aa577ea1a6cfc0549e38"], ["invited_at", "2016-10-10 06:48:50.171604"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.5ms)[0m  SELECT  1 AS one FROM "invites" WHERE ("invites"."email" = 'test1@test.com' AND "invites"."id" != 44) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "invites" SET "invited_at" = $1 WHERE "invites"."id" = $2[0m  [["invited_at", "2016-10-10 06:48:50.173868"], ["id", 44]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.5ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "32af546dbc0ffd54c6c8aa577ea1a6cfc0549e38"], ["invited_at", "2016-10-10 06:48:50.198687"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE ("invites"."email" = 'test1@test.com' AND "invites"."id" != 45) LIMIT 1
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"  [["email", "test@test.com"], ["invite_code", "1d558ebc710e8858f20aab7ea9bd25594b0800df"], ["invited_at", "2016-10-10 06:48:50.205786"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'john@john.com' LIMIT 1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"  [["email", "john@john.com"], ["invite_code", "7bd9830840dbbeedaa87081e27d627b19a98d873"], ["invited_at", "2016-10-10 06:48:50.208397"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.5ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invites" DEFAULT VALUES RETURNING "id"
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "invites" SET "email" = $1 WHERE "invites"."id" = $2[0m  [["email", "an arbitrary value"], ["id", 48]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.5ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "609a2a24842b29254f36ec5633fc8f87a1d0a364"], ["invited_at", "2016-10-10 06:49:16.894103"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "609a2a24842b29254f36ec5633fc8f87a1d0a364"], ["invited_at", "2016-10-10 06:49:16.900177"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invited_at") VALUES ($1, $2) RETURNING "id"[0m  [["email", "test1@test.com"], ["invited_at", "2016-10-10 06:49:16.903766"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code") VALUES ($1, $2) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "609a2a24842b29254f36ec5633fc8f87a1d0a364"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test@test.com"], ["invite_code", "4652b5e7645ee9e066b43de082c204162918675d"], ["invited_at", "2016-10-10 06:49:16.912413"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'john@john.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "john@john.com"], ["invite_code", "ae979f178e97cd1bedff5bb0f283426631eedb55"], ["invited_at", "2016-10-10 06:49:16.915413"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.4ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.2ms)[0m  INSERT INTO "invites" DEFAULT VALUES RETURNING "id"
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invites" SET "email" = $1 WHERE "invites"."id" = $2[0m  [["email", "an arbitrary value"], ["id", 55]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "992904a7e9d09c445aea04e0f564869f1e7a0117"], ["invited_at", "2016-10-10 06:52:10.706310"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "992904a7e9d09c445aea04e0f564869f1e7a0117"], ["invited_at", "2016-10-10 06:52:10.711540"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.4ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invited_at") VALUES ($1, $2) RETURNING "id"[0m  [["email", "test1@test.com"], ["invited_at", "2016-10-10 06:52:10.715107"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test@test.com"], ["invite_code", "087cd858adf3a69b4ea6a3c8fefdf4a73b3c5845"], ["invited_at", "2016-10-10 06:52:10.720572"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'john@john.com' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "john@john.com"], ["invite_code", "78a43784b15c66da9a8da7129e5e2d922cd26c96"], ["invited_at", "2016-10-10 06:52:10.722695"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.5ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invites" DEFAULT VALUES RETURNING "id"
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "invites" SET "email" = $1 WHERE "invites"."id" = $2[0m  [["email", "an arbitrary value"], ["id", 61]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "6476811c169c2ce6ceec9ed02d8b3928d5b69182"], ["invited_at", "2016-10-10 06:52:39.915912"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "6476811c169c2ce6ceec9ed02d8b3928d5b69182"], ["invited_at", "2016-10-10 06:52:39.920012"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invited_at") VALUES ($1, $2) RETURNING "id"[0m  [["email", "test1@test.com"], ["invited_at", "2016-10-10 06:52:39.923508"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.4ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code") VALUES ($1, $2) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "6476811c169c2ce6ceec9ed02d8b3928d5b69182"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test@test.com"], ["invite_code", "feeab6662122e4a8dc4ace097d51f876f192f9aa"], ["invited_at", "2016-10-10 06:52:39.931518"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'john@john.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "john@john.com"], ["invite_code", "2d67c9a344d162c5bf024b0d0f2dfd4167f4ec8b"], ["invited_at", "2016-10-10 06:52:39.933714"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.9ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN

InvitationMailer#invite: processed outbound mail in 0.2ms
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mDepartment Exists (0.6ms)[0m  [1mSELECT  1 AS one FROM "departments" WHERE "departments"."name" = 'John' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mDepartment Exists (0.3ms)[0m  SELECT  1 AS one FROM "departments" WHERE "departments"."name" IS NULL LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.4ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invites" DEFAULT VALUES RETURNING "id"
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invites" SET "email" = $1 WHERE "invites"."id" = $2[0m  [["email", "an arbitrary value"], ["id", 68]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mInvite Exists (1.0ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.3ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.5ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "4264ff809f47c80dcc45e1f3caac31e680cfcc86"], ["invited_at", "2016-10-10 06:56:18.483039"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "4264ff809f47c80dcc45e1f3caac31e680cfcc86"], ["invited_at", "2016-10-10 06:56:18.489395"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "invites" ("email", "invited_at") VALUES ($1, $2) RETURNING "id"[0m  [["email", "test1@test.com"], ["invited_at", "2016-10-10 06:56:18.492742"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code") VALUES ($1, $2) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "4264ff809f47c80dcc45e1f3caac31e680cfcc86"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.5ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test@test.com"], ["invite_code", "fcc781c27ec0dc63c580902227167113f24d0b10"], ["invited_at", "2016-10-10 06:56:18.500382"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'john@john.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "john@john.com"], ["invite_code", "015609afd902321f500cfa6c1f9eabef340a5739"], ["invited_at", "2016-10-10 06:56:18.503743"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.5ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" IS NULL LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "leave_types" ("leave_type_name", "created_at", "updated_at") VALUES ($1, $2, $3) RETURNING "id"  [["leave_type_name", "Annual"], ["created_at", "2016-10-10 06:56:18.525813"], ["updated_at", "2016-10-10 06:56:18.525813"]]
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1
  [1m[36mLeaveType Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.2ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Annual' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "leave_types" ("leave_type_name", "unpaid_leave", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["leave_type_name", "Annual"], ["unpaid_leave", "t"], ["created_at", "2016-10-10 06:56:18.532862"], ["updated_at", "2016-10-10 06:56:18.532862"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mLeaveType Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "leave_types" WHERE "leave_types"."leave_type_name" = 'Unpaid' LIMIT 1[0m
  [1m[35mLeaveType Exists (0.2ms)[0m  SELECT  1 AS one FROM "leave_types" WHERE "leave_types"."unpaid_leave" = 't' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mStaff Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mStaff Exists (0.2ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mStaff Exists (0.4ms)[0m  SELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "staffs" ("name", "email", "created_at", "updated_at") VALUES ($1, $2, $3, $4) RETURNING "id"[0m  [["name", "John"], ["email", "test@gmail.com"], ["created_at", "2016-10-10 06:56:18.565807"], ["updated_at", "2016-10-10 06:56:18.565807"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mStaff Exists (0.3ms)[0m  [1mSELECT  1 AS one FROM "staffs" WHERE "staffs"."email" = 'test@gmail.com' LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (0.4ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.4ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invites" DEFAULT VALUES RETURNING "id"
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invites" SET "email" = $1 WHERE "invites"."id" = $2[0m  [["email", "an arbitrary value"], ["id", 75]]
  [1m[35m (0.3ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "fea5b22d6831574486afd85b8a96760873cf51c7"], ["invited_at", "2016-10-10 07:01:08.720162"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "fea5b22d6831574486afd85b8a96760873cf51c7"], ["invited_at", "2016-10-10 07:01:08.724852"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invited_at") VALUES ($1, $2) RETURNING "id"[0m  [["email", "test1@test.com"], ["invited_at", "2016-10-10 07:01:08.728415"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.3ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code") VALUES ($1, $2) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "fea5b22d6831574486afd85b8a96760873cf51c7"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "fea5b22d6831574486afd85b8a96760873cf51c7"], ["invited_at", "2016-10-10 07:01:08.736173"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.4ms)[0m  SELECT  1 AS one FROM "invites" WHERE ("invites"."email" = 'test1@test.com' AND "invites"."id" != 80) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invites" SET "redeemed_at" = $1 WHERE "invites"."id" = $2[0m  [["redeemed_at", "2016-10-10 07:01:08.738515"], ["id", 80]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.4ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test@test.com"], ["invite_code", "0b4534c8fa86bf3b389560fac8e597b5ade50a77"], ["invited_at", "2016-10-10 07:01:08.743082"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'john@john.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "john@john.com"], ["invite_code", "7a1dff89d404ba1b5037171616061ba65fa07bbf"], ["invited_at", "2016-10-10 07:01:08.746842"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvite Load (0.2ms)[0m  [1mSELECT  "invites".* FROM "invites" WHERE "invites"."invite_code" = $1 AND "invites"."redeemed_at" IS NULL  ORDER BY "invites"."id" ASC LIMIT 1[0m  [["invite_code", "0b4534c8fa86bf3b389560fac8e597b5ade50a77"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.5ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invites" DEFAULT VALUES RETURNING "id"
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.4ms)[0m  [1mUPDATE "invites" SET "email" = $1 WHERE "invites"."id" = $2[0m  [["email", "an arbitrary value"], ["id", 83]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "f8a96b4da80bb6a100b8e4a04220deb4d9ac2d96"], ["invited_at", "2016-10-10 07:02:11.035306"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.8ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "f8a96b4da80bb6a100b8e4a04220deb4d9ac2d96"], ["invited_at", "2016-10-10 07:02:11.040196"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (1.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "invites" ("email", "invited_at") VALUES ($1, $2) RETURNING "id"[0m  [["email", "test1@test.com"], ["invited_at", "2016-10-10 07:02:11.047056"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code") VALUES ($1, $2) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "f8a96b4da80bb6a100b8e4a04220deb4d9ac2d96"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.5ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.5ms)[0m  INSERT INTO "invites" DEFAULT VALUES RETURNING "id"
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "invites" SET "email" = $1 WHERE "invites"."id" = $2[0m  [["email", "an arbitrary value"], ["id", 88]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "30db23f720041933f2c76e652d0986311dcb53df"], ["invited_at", "2016-10-10 07:02:27.761128"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "30db23f720041933f2c76e652d0986311dcb53df"], ["invited_at", "2016-10-10 07:02:27.766542"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invited_at") VALUES ($1, $2) RETURNING "id"[0m  [["email", "test1@test.com"], ["invited_at", "2016-10-10 07:02:27.769866"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.0ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code") VALUES ($1, $2) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "30db23f720041933f2c76e652d0986311dcb53df"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "30db23f720041933f2c76e652d0986311dcb53df"], ["invited_at", "2016-10-10 07:02:27.777413"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.4ms)[0m  SELECT  1 AS one FROM "invites" WHERE ("invites"."email" = 'test1@test.com' AND "invites"."id" != 93) LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invites" SET "redeemed_at" = $1 WHERE "invites"."id" = $2[0m  [["redeemed_at", "2016-10-10 07:02:27.779936"], ["id", 93]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test@test.com"], ["invite_code", "761a2a3aab1982fa40d59af31fb81f8ae09b8cff"], ["invited_at", "2016-10-10 07:02:27.784978"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'john@john.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "john@john.com"], ["invite_code", "300da6fcb4e9d72a9a315d537734fa10009373f9"], ["invited_at", "2016-10-10 07:02:27.787296"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvite Load (0.2ms)[0m  [1mSELECT  "invites".* FROM "invites" WHERE "invites"."invite_code" = $1 AND "invites"."redeemed_at" IS NULL  ORDER BY "invites"."id" ASC LIMIT 1[0m  [["invite_code", "761a2a3aab1982fa40d59af31fb81f8ae09b8cff"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.4ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.5ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invites" DEFAULT VALUES RETURNING "id"
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.2ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "invites" SET "email" = $1 WHERE "invites"."id" = $2[0m  [["email", "an arbitrary value"], ["id", 96]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "6ee03ab09d7eea0f4168b3512052d493b80c73ce"], ["invited_at", "2016-10-10 07:02:44.755667"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "6ee03ab09d7eea0f4168b3512052d493b80c73ce"], ["invited_at", "2016-10-10 07:02:44.759793"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "invites" ("email", "invited_at") VALUES ($1, $2) RETURNING "id"[0m  [["email", "test1@test.com"], ["invited_at", "2016-10-10 07:02:44.764010"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code") VALUES ($1, $2) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "6ee03ab09d7eea0f4168b3512052d493b80c73ce"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "6ee03ab09d7eea0f4168b3512052d493b80c73ce"], ["invited_at", "2016-10-10 07:02:44.770617"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.4ms)[0m  SELECT  1 AS one FROM "invites" WHERE ("invites"."email" = 'test1@test.com' AND "invites"."id" != 101) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "invites" SET "redeemed_at" = $1 WHERE "invites"."id" = $2[0m  [["redeemed_at", "2016-10-10 07:02:44.773054"], ["id", 101]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.4ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test@test.com"], ["invite_code", "9140a3f1ee17d684e96a5609560fae901d98cb31"], ["invited_at", "2016-10-10 07:02:44.777012"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'john@john.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "john@john.com"], ["invite_code", "d91422da20ed12e44c4786f4f2b24229cd6b8bc3"], ["invited_at", "2016-10-10 07:02:44.779882"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvite Load (0.2ms)[0m  [1mSELECT  "invites".* FROM "invites" WHERE "invites"."invite_code" = $1 AND "invites"."redeemed_at" IS NULL  ORDER BY "invites"."id" ASC LIMIT 1[0m  [["invite_code", "9140a3f1ee17d684e96a5609560fae901d98cb31"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.5ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.2ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.6ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.3ms)[0m  INSERT INTO "invites" DEFAULT VALUES RETURNING "id"
  [1m[36m (0.1ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invites" SET "email" = $1 WHERE "invites"."id" = $2[0m  [["email", "an arbitrary value"], ["id", 104]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.8ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "8cc92dc64763412a42ad23be70c373ad001a848f"], ["invited_at", "2016-10-10 07:04:50.783620"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "8cc92dc64763412a42ad23be70c373ad001a848f"], ["invited_at", "2016-10-10 07:04:50.788494"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "invites" ("email", "invited_at") VALUES ($1, $2) RETURNING "id"[0m  [["email", "test1@test.com"], ["invited_at", "2016-10-10 07:04:50.792883"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code") VALUES ($1, $2) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "8cc92dc64763412a42ad23be70c373ad001a848f"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "invites" ("email", "redeemed_at") VALUES ($1, $2) RETURNING "id"[0m  [["email", "test1@test.com"], ["redeemed_at", "2016-10-10 07:04:50.799071"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.0ms)[0m  BEGIN
  [1m[36m (0.0ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "8cc92dc64763412a42ad23be70c373ad001a848f"], ["invited_at", "2016-10-10 07:04:50.802231"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE ("invites"."email" = 'test1@test.com' AND "invites"."id" != 110) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "invites" SET "redeemed_at" = $1 WHERE "invites"."id" = $2[0m  [["redeemed_at", "2016-10-10 07:04:50.804285"], ["id", 110]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.5ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test@test.com"], ["invite_code", "e9215c28719f8b604c6e5e1ce1ef901e72db8a15"], ["invited_at", "2016-10-10 07:04:50.807447"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.4ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'john@john.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "john@john.com"], ["invite_code", "bb4ea9d757aea692a3a7d1bec531ce45fc88039d"], ["invited_at", "2016-10-10 07:04:50.810089"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvite Load (0.3ms)[0m  [1mSELECT  "invites".* FROM "invites" WHERE "invites"."invite_code" = $1 AND "invites"."redeemed_at" IS NULL  ORDER BY "invites"."id" ASC LIMIT 1[0m  [["invite_code", "e9215c28719f8b604c6e5e1ce1ef901e72db8a15"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
  [1m[36mActiveRecord::SchemaMigration Load (0.3ms)[0m  [1mSELECT "schema_migrations".* FROM "schema_migrations"[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36mInvite Exists (1.0ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" IS NULL LIMIT 1[0m
  [1m[35m (0.2ms)[0m  ROLLBACK
  [1m[36m (0.1ms)[0m  [1mBEGIN[0m
  [1m[35mInvite Load (0.4ms)[0m  SELECT  "invites".* FROM "invites"  ORDER BY "invites"."id" ASC LIMIT 1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mSQL (0.4ms)[0m  INSERT INTO "invites" DEFAULT VALUES RETURNING "id"
  [1m[36m (0.2ms)[0m  [1mRELEASE SAVEPOINT active_record_1[0m
  [1m[35m (0.1ms)[0m  SAVEPOINT active_record_1
  [1m[36mSQL (0.3ms)[0m  [1mUPDATE "invites" SET "email" = $1 WHERE "invites"."id" = $2[0m  [["email", "an arbitrary value"], ["id", 113]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvite Exists (0.5ms)[0m  [1mSELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'an arbitrary value' LIMIT 1[0m
  [1m[35mInvite Exists (0.7ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'AN ARBITRARY VALUE' LIMIT 1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.5ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "a0d6c076d5f8a2a2eff664fe89d61bba91923292"], ["invited_at", "2016-10-10 07:04:56.740701"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.2ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "a0d6c076d5f8a2a2eff664fe89d61bba91923292"], ["invited_at", "2016-10-10 07:04:56.747247"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invited_at") VALUES ($1, $2) RETURNING "id"[0m  [["email", "test1@test.com"], ["invited_at", "2016-10-10 07:04:56.750569"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.5ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code") VALUES ($1, $2) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "a0d6c076d5f8a2a2eff664fe89d61bba91923292"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.2ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.1ms)[0m  [1mINSERT INTO "invites" ("email", "redeemed_at") VALUES ($1, $2) RETURNING "id"[0m  [["email", "test1@test.com"], ["redeemed_at", "2016-10-10 07:04:56.759783"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mROLLBACK[0m
  [1m[35m (0.1ms)[0m  BEGIN
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test1@test.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test1@test.com"], ["invite_code", "a0d6c076d5f8a2a2eff664fe89d61bba91923292"], ["invited_at", "2016-10-10 07:04:56.763253"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE ("invites"."email" = 'test1@test.com' AND "invites"."id" != 119) LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mUPDATE "invites" SET "redeemed_at" = $1 WHERE "invites"."id" = $2[0m  [["redeemed_at", "2016-10-10 07:04:56.765551"], ["id", 119]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.2ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (1.1ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'test@test.com' LIMIT 1
  [1m[36mSQL (0.3ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "test@test.com"], ["invite_code", "bfefb1e8c11f68e58eee7ea4e58f7b221739bd22"], ["invited_at", "2016-10-10 07:04:56.770531"]]
  [1m[35m (0.5ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36m (0.1ms)[0m  [1mSAVEPOINT active_record_1[0m
  [1m[35mInvite Exists (0.3ms)[0m  SELECT  1 AS one FROM "invites" WHERE "invites"."email" = 'john@john.com' LIMIT 1
  [1m[36mSQL (0.2ms)[0m  [1mINSERT INTO "invites" ("email", "invite_code", "invited_at") VALUES ($1, $2, $3) RETURNING "id"[0m  [["email", "john@john.com"], ["invite_code", "3949d781f000fc8ed0a0095fd3f7d0ab8e26794e"], ["invited_at", "2016-10-10 07:04:56.777293"]]
  [1m[35m (0.1ms)[0m  RELEASE SAVEPOINT active_record_1
  [1m[36mInvite Load (0.2ms)[0m  [1mSELECT  "invites".* FROM "invites" WHERE "invites"."invite_code" = $1 AND "invites"."redeemed_at" IS NULL  ORDER BY "invites"."id" ASC LIMIT 1[0m  [["invite_code", "bfefb1e8c11f68e58eee7ea4e58f7b221739bd22"]]
  [1m[35m (0.1ms)[0m  ROLLBACK
